/* FileSaver.js
 * A saveAs() FileSaver implementation.
 * 1.1.20150716
 *
 * By Eli Grey, http://eligrey.com
 * License: X11/MIT
 *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */
var saveAs=saveAs||function(e){"use strict"
if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,i=function(e){var t=new MouseEvent("click")
e.dispatchEvent(t)},a=e.webkitRequestFileSystem,c=e.requestFileSystem||a||e.mozRequestFileSystem,f=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u=0,s=function(t){var o=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()}
e.chrome?o():setTimeout(o,500)},d=function(e,t,n){t=[].concat(t)
for(var o=t.length;o--;){var r=e["on"+t[o]]
if("function"==typeof r)try{r.call(e,n||e)}catch(e){f(e)}}},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},p=function(t,f,p){p||(t=l(t))
var v,w,y,m=this,S=t.type,h=!1,O=function(){d(m,"writestart progress write writeend".split(" "))},R=function(){if(!h&&v||(v=n().createObjectURL(t)),w)w.location.href=v
else{void 0==e.open(v,"_blank")&&"undefined"!=typeof safari&&(e.location.href=v)}m.readyState=m.DONE,O(),s(v)},b=function(e){return function(){if(m.readyState!==m.DONE)return e.apply(this,arguments)}},g={create:!0,exclusive:!1}
return m.readyState=m.INIT,f||(f="download"),r?(v=n().createObjectURL(t),o.href=v,o.download=f,void setTimeout(function(){i(o),O(),s(v),m.readyState=m.DONE})):(e.chrome&&S&&"application/octet-stream"!==S&&(y=t.slice||t.webkitSlice,t=y.call(t,0,t.size,"application/octet-stream"),h=!0),a&&"download"!==f&&(f+=".download"),("application/octet-stream"===S||a)&&(w=e),c?(u+=t.size,void c(e.TEMPORARY,u,b(function(e){e.root.getDirectory("saved",g,b(function(e){var n=function(){e.getFile(f,g,b(function(e){e.createWriter(b(function(n){n.onwriteend=function(t){w.location.href=e.toURL(),m.readyState=m.DONE,d(m,"writeend",t),s(e)},n.onerror=function(){var e=n.error
e.code!==e.ABORT_ERR&&R()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=m["on"+e]}),n.write(t),m.abort=function(){n.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),R)}),R)}
e.getFile(f,{create:!1},b(function(e){e.remove(),n()}),b(function(e){e.code===e.NOT_FOUND_ERR?n():R()}))}),R)}),R)):void R())},v=p.prototype,w=function(e,t,n){return new p(e,t,n)}
return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=l(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(v.abort=function(){var e=this
e.readyState=e.DONE,d(e,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,w)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content)
"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs})
